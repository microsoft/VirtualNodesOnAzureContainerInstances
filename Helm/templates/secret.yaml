kind: Secret
apiVersion: v1
metadata:
  name: virtual-node-admission-controller
  namespace: {{ .Values.namespace }}
data:
  # Generated by (NOTE VN2 BELOW NEEDS TO MATCH NAMESPACE in .Values.namespace!)
  # openssl req -x509 -newkey rsa:4096 -keyout key.pem -out cert.pem -sha256 -days 365 -subj "/CN=virtual-node-admission-controller.vn2.svc" -addext "subjectAltName = DNS:virtual-node-admission-controller.vn2.svc"
  # openssl rsa -in key.pem -text > server.pem
  # and then base64 encoded server.pem as key, cert.pem as crt (cat thefile.pem | base64)
  # Not sure this should be left in HELM... or even as a secret, could generate via init and leave on disk directly?
  tls.crt: {{ .Values.base64TlsCert }}
  tls.key: {{ .Values.base64TlsKey }}
type: Opaque